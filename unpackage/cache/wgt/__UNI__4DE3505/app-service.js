(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"00dd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"about",data:function(){return{info:["hello! we are Sudo.","\u6211\u4eec\u6765\u81ea18\u7269\u7f511\u73ed","\u611f\u8c22\u4f60\u5bf9\u4e8e\u672c\u9879\u76ee\u7684\u9605\u8bfb"],command:"cat sudo.info"}}};e.default=r},"01a5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("a34a")),a=n("c384"),i=n("776c"),s=n("f9a9"),o=c(n("6aba"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){return v(t)||d(t)||f(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function v(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){_(i,r,a,s,o,"next",t)}function o(t){_(i,r,a,s,o,"throw",t)}s(void 0)}))}}var m={name:"article-detail",components:{CommentItem:o.default},data:function(){return{id:null,title:null,content:null,time:null,author:null,isFavorite:!1,commentList:[],total:null,page:1,commentContent:"",count:0}},methods:{getData:function(){var t=this;return p(r.default.mark((function e(){var n,s,o,c,u,l,f;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.getArtcileDetail)(t.id);case 3:n=e.sent,200===n.code&&(s=n.data,o=s.title,c=s.content,u=s.author,l=s.createTime,f=s.is_favorite,t.title=o,t.content=c,t.author=u,t.time=(0,i.parseTime)(l,"{m}/{d} {h}:{i}"),t.isFavorite=f,t.handleFavoriteBtn(),t.getCommentList()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),(0,i.showError)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getCommentList:function(){var t=this;return p(r.default.mark((function e(){var n,s;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.getComments)(t.id,t.page);case 3:n=e.sent,200===n.code&&(t.page++,t.total=n.data.total,s=n.data.lists.splice(t.count),s=s.map((function(t){return{content:t.content,create_at:t.create_at,username:t.user.name,avatar:t.user.avatar}})),t.commentList=[].concat(u(t.commentList),u(s)),t.page>2&&t.scroll()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),(0,i.showError)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},submit:function(){var t=this;return p(r.default.mark((function e(){var n,o;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,s.getToken)()){e.next=4;break}uni.navigateTo({url:"../../user/login/login"}),e.next=14;break;case 4:return e.prev=4,e.next=7,(0,a.submitComment)(t.id,t.commentContent);case 7:n=e.sent,n&&(t.commentContent="",t.total+=1,t.count+=1,o=n.data,t.commentList.unshift({content:o.content,create_at:o.create_at,username:o.user.name,avatar:o.user.avatar}),t.scroll("#header")),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),(0,i.showError)();case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))()},handleFavoriteBtn:function(){var t=getCurrentPages(),e=t[t.length-1],n=e.$getAppWebview(),r=n.getStyle().titleNView;r.buttons&&(r.buttons[0].color=this.isFavorite?"#d5c400":"#000000",n.setStyle({titleNView:r}))},addFavoriteArticle:function(){var t=this;(0,a.addFavorite)(this.id).then((function(e){200===e.code||50002===e.code?(t.isFavorite=!0,t.handleFavoriteBtn()):(0,i.showError)()}))},deleteFavoriteArticle:function(){var t=this;(0,a.deleteFavorite)(this.id).then((function(e){200===e.code||50002===e.code?(t.isFavorite=!1,t.handleFavoriteBtn()):(0,i.showError)()}))},scroll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#bottom";uni.createSelectorQuery().select(t).boundingClientRect((function(t){uni.createSelectorQuery().select("#container").boundingClientRect((function(e){uni.pageScrollTo({duration:300,scrollTop:t.top-e.top})})).exec()})).exec()}},onNavigationBarButtonTap:function(t){if((0,s.getToken)())if(this.isFavorite){var e=this;uni.showModal({content:"\u786e\u8ba4\u53d6\u6d88\u6536\u85cf\uff1f",success:function(t){t.confirm&&e.deleteFavoriteArticle()}})}else this.addFavoriteArticle();else uni.navigateTo({url:"../../user/login/login"})},onPageScroll:function(t){var e=t.scrollTop;e<300?uni.setNavigationBarTitle({title:" "}):uni.setNavigationBarTitle({title:this.title})},onLoad:function(t){var e=t.id;this.id=e,this.getData()}};e.default=m},"0783":function(t,e,n){"use strict";n.r(e);var r=n("d132"),a=n("5ffd");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=n("45f9"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"53a22c46",null,!1,r["a"],s);"function"===typeof c["a"]&&Object(c["a"])(u),e["default"]=u.exports},"08b0":function(t,e,n){"use strict";n.r(e);var r=n("7502"),a=n("e310");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"3e476e1a",null,!1,r["a"],s);e["default"]=c.exports},"0de9":function(t,e,n){"use strict";function r(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function a(){return"string"===typeof __channelId__&&__channelId__}function i(t,e){switch(r(e)){case"Function":return"function() { [native code] }";default:return e}}function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t].apply(console,n)}function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e.shift();if(a())return e.push(e.pop().replace("at ","uni-app:///")),console[s].apply(console,e);var o=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,i)+"---END:JSON---"}catch(a){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var n=r(t).toUpperCase();t="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+t+"---END:"+n+"---":String(t)}return t})),c="";if(o.length>1){var u=o.pop();c=o.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=o[0];console[s](c)}n.r(e),n.d(e,"log",(function(){return s})),n.d(e,"default",(function(){return o}))},"0fcf":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("a34a")),a=n("c384"),i=n("776c"),s=c(n("9c78")),o=c(n("8b95"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){return d(t)||f(t)||p(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return m(t)}function v(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){v(i,r,a,s,o,"next",t)}function o(t){v(i,r,a,s,o,"throw",t)}s(void 0)}))}}function _(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function p(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g={name:"home",components:{articleCard:s.default,Refresh:o.default},data:function(){return{tabBars:[],tabIndex:0,articles:[],page:1,coverTransform:"translateY(0px)",coverTransition:"0s",playState:"paused",color:"#5e5e5e",scrollTop:-1,refresh:!1,startY:0,moveY:0,moving:!1,refreshTime:1e3}},watch:{refresh:function(e){e&&(t("log","refresh"," at pages/tabBar/articles/articles.vue:76"),this.handleRefresh())}},methods:{format:function(){var t,e=[],n=_(this.tabBars);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push({id:r.id,total:0,data:[],loadingText:"\u52a0\u8f7d\u66f4\u591a",page:1})}}catch(a){n.e(a)}finally{n.f()}this.articles=e},getCats:function(){var e=this;return h(r.default.mark((function n(){var i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.getCategories)();case 3:i=n.sent,i.data&&(e.tabBars=i.data.lists,e.tabBars&&e.format(),e.articles&&e.getData(0)),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t("log","fail to get cats"," at pages/tabBar/articles/articles.vue:114");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},getData:function(t,e){var n=this;return h(r.default.mark((function s(){var o,c,l;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=n.articles[t],r.prev=1,r.next=4,(0,a.getArticles)(o.page,o.id);case 4:if(c=r.sent,!c.data.lists){r.next=13;break}if(o.page+=1,o.total=c.data.total,l=c.data.lists,!e){r.next=12;break}return e(l),r.abrupt("return");case 12:o.data=[].concat(u(o.data),u(l));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](1),(0,i.showError)();case 18:case"end":return r.stop()}}),s,null,[[1,15]])})))()},tabChange:function(t){if(this.tabBars===t)return!1;this.tabIndex=t,0===this.articles[t].data.length&&this.getData(t)},swiperChange:function(t){var e=t.target.current;this.tabIndex=e,0===this.articles[e].data.length&&this.getData(e)},handleRefresh:function(){var t=this.tabIndex,e=this.articles[t];e.page=1,this.getData(t,(function(t){e.data=t}))},coverTouchstart:function(t){this.coverTransition="transform .1s linear",this.startY=t.touches[0].clientY},coverTouchmove:function(t){if(!this.refresh){this.moveY=t.touches[0].clientY;var e=this.moveY-this.startY;e<0?this.moving=!1:(this.moving=!0,e>=60&&(this.refresh=!0,this.coverTransform="translateY(60px)",this.playState="running"))}},coverTouchend:function(){var t=this;this.refresh&&setTimeout((function(){!1!==t.moving&&(t.moving=!1,t.refresh=!1,t.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",t.coverTransform="translateY(0px)",t.playState="paused")}),this.refreshTime)},loadMore:function(t){var e=this.articles[t];e.total!==e.data.length?(e.loadingText="\u6b63\u5728\u52a0\u8f7d...",this.getData(t)):e.loadingText="\u6682\u65e0\u66f4\u591a\u6570\u636e..."}},computed:{scrollLeft:function(){return 60*(this.tabIndex-1)},getHeight:function(){var t=uni.getSystemInfoSync().windowHeight-uni.upx2px(92);return"height: ".concat(t,"px;")}},onLoad:function(){this.getCats()}};e.default=g}).call(this,n("0de9")["default"])},1151:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("776c"),a={name:"article-card",props:{id:Number,title:String,cover:String,time:String,commentCount:Number},methods:{navigato:function(){uni.navigateTo({url:"../../articles/articleDetail/articleDetail?id=".concat(this.id)})}},computed:{timeFormated:function(){return(0,r.parseTime)(this.time,"{m}/{d} {h}:{i}")}}};e.default=a},"11ba":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","article-card-container"),attrs:{_i:0},on:{click:t.navigato}},[n("view",{staticClass:t._$s(1,"sc","info-body"),attrs:{_i:1}},[n("text",{staticClass:t._$s(2,"sc","title"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.title)))]),n("view",{staticClass:t._$s(3,"sc","bottom"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","time"),attrs:{_i:4}},[n("icon",{staticClass:t._$s(5,"sc","iconfont icon-time icon"),attrs:{_i:5}}),n("text",[t._v(t._$s(6,"t0-0",t._s(t.timeFormated)))])]),n("view",{staticClass:t._$s(7,"sc","comment-count"),attrs:{_i:7}},[n("icon",{staticClass:t._$s(8,"sc","iconfont icon-comment icon"),attrs:{_i:8}}),n("text",[t._v(t._$s(9,"t0-0",t._s(t.commentCount)))])])])]),t._$s(10,"i",""!==t.cover)?n("image",{staticClass:t._$s(10,"sc","info-cover"),attrs:{src:t._$s(10,"a-src",t.cover),_i:10}}):t._e()])},i=[]},"136f":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","article-detail-container"),attrs:{id:"container",_i:0}},[n("view",{staticClass:t._$s(1,"sc","article-info"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","title"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.title)))]),n("view",{staticClass:t._$s(3,"sc","author"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.author)))]),n("view",{staticClass:t._$s(4,"sc","time"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.time)))])]),n("rich-text",{staticClass:t._$s(5,"sc","article-content"),attrs:{nodes:t._$s(5,"a-nodes",t.content),_i:5}}),n("view",{staticClass:t._$s(6,"sc","comment-list"),attrs:{_i:6}},[n("text",{staticClass:t._$s(7,"sc","header"),attrs:{id:"header",_i:7}}),t._$s(8,"i",t.commentList.length>0)?n("view",{staticClass:t._$s(8,"sc","list-box"),attrs:{_i:8}},[t._l(t._$s(9,"f",{forItems:t.commentList}),(function(e,r,a,i){return n("comment-item",{key:t._$s(9,"f",{forIndex:a,key:r}),staticClass:t._$s("9-"+i,"sc","comment-item"),attrs:{content:e.content,create_at:e.create_at,username:e.username,userAvatar:e.avatar,_i:"9-"+i}})})),t._$s(10,"i",t.commentList.length<t.total)?n("text",{staticClass:t._$s(10,"sc","load-more-text"),attrs:{_i:10},on:{click:t.getCommentList}}):t._e()],2):t._e(),t._$s(11,"i",0===t.commentList.length)?n("text",{staticClass:t._$s(11,"sc","trips"),attrs:{_i:11}}):t._e()]),n("view",{attrs:{id:"bottom",_i:12}}),n("view",{staticClass:t._$s(13,"sc","comment-box"),attrs:{_i:13}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:t._$s(14,"sc","content"),attrs:{_i:14},domProps:{value:t._$s(14,"v-model",t.commentContent)},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("button",{staticClass:t._$s(15,"sc","submit-btn"),attrs:{_i:15},on:{click:t.submit}})])])},i=[]},"1e66":function(t,e,n){"use strict";n.r(e);var r=n("46b3"),a=n("e6bf");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"66a0e75c",null,!1,r["a"],s);e["default"]=c.exports},"1ecc":function(t,e,n){"use strict";n.r(e);var r=n("f0d6"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"299b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{position:[],button:{},btn:"[]"}},watch:{button:{handler:function(t){this.btn=JSON.stringify(t)},deep:!0},show:function(t){this.autoClose||(this.button?this.button.show=t:this.init())},leftOptions:function(){this.init()},rightOptions:function(){this.init()}},created:function(){void 0!==this.swipeaction.children&&this.swipeaction.children.push(this)},mounted:function(){this.init()},beforeDestroy:function(){var t=this;this.swipeaction.children.forEach((function(e,n){e===t&&t.swipeaction.children.splice(n,1)}))},methods:{init:function(){var t=this;clearTimeout(this.swipetimer),this.swipetimer=setTimeout((function(){t.getButtonSize()}),50)},closeSwipe:function(t){this.autoClose&&this.swipeaction.closeOther(this)},change:function(t){this.$emit("change",t.open);var e=this.button.show;e!==t.open&&(this.button.show=t.open)},appTouchStart:function(t){var e=t.changedTouches[0].clientX;this.clientX=e,this.timestamp=(new Date).getTime()},appTouchEnd:function(t,e,n,r){var a=t.changedTouches[0].clientX,i=Math.abs(this.clientX-a),s=(new Date).getTime()-this.timestamp;i<40&&s<300&&this.$emit("click",{content:n,index:e,position:r})},getButtonSize:function(){var t=this,e=uni.createSelectorQuery().in(this);e.selectAll(".uni-swipe_button-group").boundingClientRect((function(e){var n="none";n=t.autoClose?"none":t.show,t.button={data:e,show:n}})).exec()}}};e.default=r},"29dc":function(t,e,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/tabBar/articles/articles",(function(){return Vue.extend(n("d5fc").default)})),__definePage("pages/tabBar/questions/questions",(function(){return Vue.extend(n("8fcb").default)})),__definePage("pages/tabBar/me/me",(function(){return Vue.extend(n("eb77").default)})),__definePage("pages/articles/articleDetail/articleDetail",(function(){return Vue.extend(n("def0").default)})),__definePage("pages/articles/favoriteArticles/favoriteNews",(function(){return Vue.extend(n("fb88").default)})),__definePage("pages/questions/answerRecords/answerRecords",(function(){return Vue.extend(n("bd7f").default)})),__definePage("pages/questions/questionList/questionList",(function(){return Vue.extend(n("516c").default)})),__definePage("pages/questions/questionDetail/questionDetail",(function(){return Vue.extend(n("1e66").default)})),__definePage("pages/user/changeUserInfo/changeUserInfo",(function(){return Vue.extend(n("600b").default)})),__definePage("pages/user/login/login",(function(){return Vue.extend(n("7d04").default)})),__definePage("pages/user/register/register",(function(){return Vue.extend(n("977e").default)})),__definePage("pages/contacts/contacts",(function(){return Vue.extend(n("c587").default)})),__definePage("pages/contacts/add/add",(function(){return Vue.extend(n("08b0").default)})),__definePage("pages/contacts/chat/chat",(function(){return Vue.extend(n("68e0").default)})),__definePage("pages/setting/setting",(function(){return Vue.extend(n("c3e3").default)})),__definePage("pages/about/about",(function(){return Vue.extend(n("fa19").default)}))},"2b1a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("f9a9"),a=n("6761"),i={name:"me",data:function(){return{isLogin:!1,userInfo:{avatar:null,username:null}}},methods:{navigato:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pop-in",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;uni.navigateTo({url:t,animationType:e,animationDuration:n})}},onLoad:function(){var t=(0,r.getToken)();t&&(0,a.getUserinfo)(t).then((function(t){(0,r.setUserInfo)(t.data)}))},onShow:function(){var t=(0,r.getToken)();if(t){var e=(0,r.getUserInfo)(),n=e.avatar,a=e.name;this.userInfo={avatar:n,username:a},this.isLogin=!0}else this.isLogin=!1}};e.default=i},"2d25":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("776c"),a={name:"questiosn",data:function(){return{list:[{title:"\u6bcf\u65e5\u7b54\u9898",subTitle:"\u592a\u9633\u6bcf\u5929\u90fd\u662f\u65b0\u7684",class:"today",type:"today"},{title:"\u6bcf\u5468\u7b54\u9898",subTitle:"\u5468\u800c\u590d\u59cb\uff0c\u5982\u671f\u800c\u81f3",class:"week",type:"weekly"},{title:"\u4e13\u9879\u7b54\u9898",subTitle:"\u672f\u4e1a\u6709\u4e13\u653b\uff0c\u9053\u4e49\u6709\u7cbe\u8bba",class:"special",type:"special"}]}},methods:{navigato:function(t){(0,r.checkStatus)("../me/me")&&("today"===t?uni.navigateTo({url:"../../questions/questionDetail/questionDetail?type=daily"}):uni.navigateTo({url:"../../questions/questionList/questionList?type=".concat(t)}))}},onNavigationBarButtonTap:function(t){if(t){if(!(0,r.checkStatus)())return;uni.navigateTo({url:"../../questions/answerRecords/answerRecords"})}}};e.default=a},"2ec6":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("a34a")),a=n("a6a4"),i=n("776c"),s=o(n("0783"));function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){c(i,r,a,s,o,"next",t)}function o(t){c(i,r,a,s,o,"throw",t)}s(void 0)}))}}var l={name:"contacts",components:{uniSwiperAction:s.default,uniSwiperActionItem:s.default},data:function(){return{contacts:[],options:[{text:"\u5220\u9664",style:{backgroundColor:"rgb(239, 86, 86)"}}]}},methods:{getContacts:function(t){var e=this;return u(r.default.mark((function n(){var s;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.getFriends)();case 3:s=n.sent,s.data&&(e.contacts=s.data),t&&t(),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),(0,i.showError)();case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},remove:function(e){var n=this;return u(r.default.mark((function i(){return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:uni.showModal({content:"\u662f\u5426\u5220\u9664\u597d\u53cb\uff1f",success:function(r){r.confirm?(0,a.deleteFriend)(e).then((function(t){if("success"===t.msg){var r=n.contacts.findIndex((function(t){return t.id===e}));-1!==r&&n.contacts.splice(r,1),uni.vibrateShort(),uni.showToast({title:"\u5220\u9664\u6210\u529f",icon:"none"})}else uni.showToast({title:"\u5220\u9664\u5931\u8d25",icon:"none"})})):r.cancel&&t("log","cancel"," at pages/contacts/contacts.vue:87")}});case 1:case"end":return r.stop()}}),i)})))()},navigato:function(t){var e=t.id,n=t.name,r=t.avatar;uni.navigateTo({url:"chat/chat?id=".concat(e,"&name=").concat(n,"&avatar=").concat(r)})}},onNavigationBarButtonTap:function(t){t&&uni.navigateTo({url:"add/add"})},onPullDownRefresh:function(){this.getContacts((function(){uni.stopPullDownRefresh()}))},onLoad:function(){this.getContacts()},onShow:function(){this.getContacts()}};e.default=l}).call(this,n("0de9")["default"])},"31f3":function(t,e,n){"use strict";n.r(e);var r=n("5702"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},3971:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","register-container"),attrs:{_i:0}},[n("h1"),n("view",{staticClass:t._$s(2,"sc","form"),attrs:{_i:2}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:t._$s(3,"sc","uni-input"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.username)},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:t._$s(4,"sc","uni-input"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.password)},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirm,expression:"password_confirm"}],staticClass:t._$s(5,"sc","uni-input"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.password_confirm)},on:{input:function(e){e.target.composing||(t.password_confirm=e.target.value)}}}),n("button",{attrs:{_i:6},on:{click:t.signIn}})]),n("text",{staticClass:t._$s(7,"sc","tips"),attrs:{_i:7},on:{click:t.navigato}})])},i=[]},"3add":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),a=n("7465"),i=n("776c");function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return f(t)||l(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){v(i,r,a,s,o,"next",t)}function o(t){v(i,r,a,s,o,"throw",t)}s(void 0)}))}}var _={name:"answer-records",data:function(){return{total:0,currentPage:1,list:[]}},methods:{format:function(t){return t.map((function(t){return{type:t.test_paper.type,title:t.test_paper.title,score:t.score,time:(0,i.parseTime)(t.create_at,"{y}/{m}/{d}")}}))},getList:function(t){var e=this;return h(r.default.mark((function n(){var i,s;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,a.getRecords)(e.currentPage);case 2:if(i=n.sent,200!==i.code){n.next=11;break}if(e.currentPage+=1,e.total=i.data.total,s=e.format(i.data.lists),!t){n.next=10;break}return t(s),n.abrupt("return");case 10:e.list=[].concat(o(e.list),o(s));case 11:case"end":return n.stop()}}),n)})))()},loadmore:function(){this.getList()}},filters:{type:function(t){return"daily"===t?"\u6bcf\u65e5\u7b54\u9898":"weekly"===t?"\u6bcf\u5468\u7b54\u9898":"\u4e13\u9879\u7b54\u9898"}},onPullDownRefresh:function(){var t=this;this.currentPage=1,this.getList((function(e){t.list=e})),uni.stopPullDownRefresh()},onLoad:function(){this.getList()}};e.default=_},"3b3d":function(t,e,n){"use strict";n.r(e);var r=n("a7a8"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"45e3":function(t,e,n){"use strict";n.r(e);var r=n("2ec6"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"45f9":function(t,e,n){"use strict";var r=function(t){(t.options.wxs||(t.options.wxs={}))["swipe"]=function(t){var e=10;function n(t,e,n,r){var a=r.getState(),i=JSON.parse(t);i&&i.data&&0!==i.data.length&&(a.leftWidth=i.data[0].width,a.rightWidth=i.data[1].width,a.threshold=r.getDataset().threshold,i.show&&"none"!==i.show?u(i.show,r,n):(a.left&&u("none",r,n),f(r)))}function r(t,e){var n=t.instance,r=n.getDataset().disabled,a=n.getState();r=("string"===typeof r?JSON.parse(r):r)||!1,r||(n.requestAnimationFrame((function(){n.removeClass("ani"),e.callMethod("closeSwipe")})),a.x=a.left||0,d(t,e))}function a(t,e){var n=t.instance,r=n.getDataset().disabled,a=n.getState();r=("string"===typeof r?JSON.parse(r):r)||!1,r||(v(t),"horizontal"===a.direction&&(t.preventDefault&&t.preventDefault(),s(a.x+a.deltaX,n,e)))}function i(t,e){var n=t.instance,r=n.getDataset().disabled,a=n.getState();r=("string"===typeof r?JSON.parse(r):r)||!1,r||c(a.left,n,e)}function s(t,e,n){t=t||0;var r=e.getState(),a=r.leftWidth,i=r.rightWidth;r.left=o(t,-i,a),e.requestAnimationFrame((function(){e.setStyle({transform:"translateX("+r.left+"px)","-webkit-transform":"translateX("+r.left+"px)"})}))}function o(t,e,n){return Math.min(Math.max(t,e),n)}function c(t,e,n){var r=e.getState(),a=r.threshold,i=(r.position,r.isopen||"none"),s=r.leftWidth,o=r.rightWidth;0!==r.deltaX?u("none"===i&&o>0&&-t>a||"none"!==i&&o>0&&o+t<a?"right":"none"===i&&s>0&&t>a||"none"!==i&&s>0&&s-t<a?"left":"none",e,n):u("none",e,n)}function u(t,e,n){var r=e.getState(),a=(r.position,r.leftWidth),i=r.rightWidth,o="";switch(r.isopen=r.isopen?r.isopen:"none",t){case"left":o=a;break;case"right":o=-i;break;default:o=0}r.isopen!==t&&(r.throttle=!0,n.callMethod("change",{open:t})),r.isopen=t,e.requestAnimationFrame((function(){e.addClass("ani"),s(o,e,n)}))}function l(t,n){return t>n&&t>e?"horizontal":n>t&&n>e?"vertical":""}function f(t){var e=t.getState();e.direction="",e.deltaX=0,e.deltaY=0,e.offsetX=0,e.offsetY=0}function d(t){var e=t.instance,n=e.getState();f(e);var r=t.touches[0];n.startX=r.clientX,n.startY=r.clientY}function v(t){var e=t.instance,n=e.getState(),r=t.touches[0];n.deltaX=r.clientX-n.startX,n.deltaY=r.clientY-n.startY,n.offsetX=Math.abs(n.deltaX),n.offsetY=Math.abs(n.deltaY),n.direction=n.direction||l(n.offsetX,n.offsetY)}return t.exports={sizeReady:n,touchstart:r,touchmove:a,touchend:i},t.exports}({exports:{}})};e["a"]=r},"465c":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","change-userinfo-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","userInfo-img"),attrs:{_i:1}},[n("text",{staticClass:t._$s(2,"sc","title"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","image-upload"),attrs:{_i:3}},[n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(4,"v-show",""===t.newAvatar),expression:"_$s(4,'v-show',newAvatar === '')"}],staticClass:t._$s(4,"sc","image-choose-show"),attrs:{_i:4}},[n("view",{staticClass:t._$s(5,"sc","image-choose"),attrs:{_i:5},on:{click:t.chooseImg}})]),t._$s(6,"i",""!==t.newAvatar)?n("view",{staticClass:t._$s(6,"sc","image-show"),attrs:{_i:6}},[n("image",{staticClass:t._$s(7,"sc","image-image"),attrs:{src:t._$s(7,"a-src",t.newAvatar),_i:7},on:{click:t.previewImg}}),n("view",{staticClass:t._$s(8,"sc","close-view"),attrs:{_i:8},on:{click:t.close}})]):t._e()])]),n("view",{staticClass:t._$s(9,"sc","userInfo-introduction"),attrs:{_i:9}},[n("text",{staticClass:t._$s(10,"sc","title"),attrs:{_i:10}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.introduction,expression:"introduction"}],staticClass:t._$s(11,"sc","input"),attrs:{_i:11},domProps:{value:t._$s(11,"v-model",t.introduction)},on:{input:function(e){e.target.composing||(t.introduction=e.target.value)}}})]),n("button",{staticClass:t._$s(12,"sc","submit-btn"),attrs:{_i:12},on:{click:t.submit}})])},i=[]},"46b3":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:t._$s(0,"sc","question-detail-container"),attrs:{_i:0}},[r("swiper",{staticClass:t._$s(1,"sc","questions-swiper"),attrs:{current:t._$s(1,"a-current",t.current),_i:1},on:{change:t.swiperChange}},t._l(t._$s(2,"f",{forItems:t.questions}),(function(e,n,a,i){return r("swiper-item",{key:t._$s(2,"f",{forIndex:a,key:n})},[r("view",{staticClass:t._$s("3-"+i,"sc","question-card"),attrs:{_i:"3-"+i}},[r("view",{staticClass:t._$s("4-"+i,"sc","index"),attrs:{_i:"4-"+i}},[t._v(t._$s("4-"+i,"t0-0",t._s(n+1))+t._$s("4-"+i,"t0-1",t._s(t.questions.length)))]),r("view",{staticClass:t._$s("5-"+i,"sc","content"),attrs:{_i:"5-"+i}},[t._v(t._$s("5-"+i,"t0-0",t._s(e.title)))]),r("view",{staticClass:t._$s("6-"+i,"sc","options"),attrs:{_i:"6-"+i}},[r("radio-group",{attrs:{_i:"7-"+i},on:{change:t.radioChange}},t._l(t._$s("8-"+i,"f",{forItems:e.options}),(function(e,a,s,o){return r("label",{key:t._$s("8-"+i,"f",{forIndex:s,key:e.value}),staticClass:t._$s("8-"+i+"-"+o,"sc","option"),attrs:{_i:"8-"+i+"-"+o}},[r("view",[r("radio",{attrs:{value:t._$s("10-"+i+"-"+o,"a-value",e.value),checked:t._$s("10-"+i+"-"+o,"a-checked",a===t.optionCurrent[n]),_i:"10-"+i+"-"+o}})]),r("view",{staticClass:t._$s("11-"+i+"-"+o,"sc","name"),attrs:{_i:"11-"+i+"-"+o}},[t._v(t._$s("11-"+i+"-"+o,"t0-0",t._s(e.name)))])])})),0)])])])})),0),r("button",{staticClass:t._$s(12,"sc","submit"),attrs:{disabled:t._$s(12,"a-disabled",t.disabled),_i:12},on:{click:t.submit}}),t._$s(13,"i",t.isSubmited)?r("view",{staticClass:t._$s(13,"sc","score-box"),attrs:{_i:13}},[r("view",{staticClass:t._$s(14,"sc","score-card"),attrs:{_i:14}},[r("image",{staticClass:t._$s(15,"sc","header"),attrs:{src:t._$s(15,"a-src",n("8496")),_i:15}}),r("view",{staticClass:t._$s(16,"sc","title"),attrs:{_i:16}}),r("view",{staticClass:t._$s(17,"sc","score"),attrs:{_i:17}},[t._v(t._$s(17,"t0-0",t._s(t.score)))]),r("button",{staticClass:t._$s(18,"sc","comfirm-btn"),attrs:{_i:18},on:{click:t.navigato}})])]):t._e()])},i=[]},"4c89":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","comment-item-container"),attrs:{_i:0}},[n("image",{staticClass:t._$s(1,"sc","avatar"),attrs:{src:t._$s(1,"a-src",t.userAvatar),_i:1}}),n("view",{staticClass:t._$s(2,"sc","main"),attrs:{_i:2}},[n("text",{staticClass:t._$s(3,"sc","username"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.username)))]),n("text",{staticClass:t._$s(4,"sc","content"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.content)))]),n("text",{staticClass:t._$s(5,"sc","time"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.time)))])])])},i=[]},"516c":function(t,e,n){"use strict";n.r(e);var r=n("9630"),a=n("31f3");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"548aa6be",null,!1,r["a"],s);e["default"]=c.exports},"52fa":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("776c"),a={onLaunch:function(){t("log","App Launch"," at App.vue:6")},onShow:function(){(0,r.checkNetwork)(),t("log","App Show"," at App.vue:10")},onHide:function(){t("log","App Hide"," at App.vue:13")}};e.default=a}).call(this,n("0de9")["default"])},5502:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("a34a")),a=n("a6a4");function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){s(i,r,a,o,c,"next",t)}function c(t){s(i,r,a,o,c,"throw",t)}o(void 0)}))}}var c={name:"add",data:function(){return{username:null,searchResult:null,hasSearch:!1,showClearIcon:!1}},methods:{clear:function(){this.username="",this.showClearIcon=!1,this.searchResult=null,this.hasSearch=!1},clearInput:function(t){var e=t.target.value;this.username=e,e.length>0?this.showClearIcon=!0:(this.showClearIcon=!1,this.searchResult=null,this.hasSearch=!1)},search:function(t){var e=this;return o(r.default.mark((function n(){var i,s,o,c,u,l,f,d;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.detail.value,!i){n.next=13;break}return n.prev=2,n.next=5,(0,a.searchFriend)(i);case 5:s=n.sent,s.data&&(o=s.data,c=o.id,u=o.name,l=o.avatar,f=o.introduction,d={id:c,avatar:l,username:u,introduction:f},e.searchResult=d),e.hasSearch=!0,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),uni.showToast({title:"\u641c\u7d22\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\uff01",icon:"none"});case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},add:function(t){return o(r.default.mark((function e(){var n,i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,a.addFriend)(t);case 4:n=e.sent,n.msg&&(i="success"===n.msg?"\u6dfb\u52a0\u6210\u529f":n.msg,uni.showToast({title:i}));case 6:case"end":return e.stop()}}),e)})))()}}};e.default=c},5653:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.upload=o;var r=i(n("c3a7")),a=n("f9a9");function i(t){return t&&t.__esModule?t:{default:t}}var s=r.default.host+":"+r.default.apiPort;function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,a.getToken)();return new Promise((function(a,i){uni.uploadFile({url:s+"/api/uploadAvatar",header:{token:r},name:t,filePath:e,formData:n,success:function(t){a(t.data)},fail:function(t){i(t)}})}))}},5702:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),a=n("7465"),i=n("776c");function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return f(t)||l(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){v(i,r,a,s,o,"next",t)}function o(t){v(i,r,a,s,o,"throw",t)}s(void 0)}))}}var _={WEEK:"weekly",SPECIAL:"special"},p={name:"question-list",data:function(){return{type:null,list:[],total:0,currentPage:1}},methods:{getList:function(){var t=this;return h(r.default.mark((function e(){var n,s;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.getQuestionList)(t.type,t.currentPage);case 3:n=e.sent,n&&(t.currentPage+=1,t.total=n.data.total,s=n.data.lists,t.list=[].concat(o(t.list),o(s))),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),(0,i.showError)();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setNavigatorTitle:function(t){var e;t===_.WEEK?e="\u6bcf\u5468\u7b54\u9898":t===_.SPECIAL&&(e="\u4e13\u9879\u7b54\u9898"),uni.setNavigationBarTitle({title:e})},navigato:function(t){uni.navigateTo({url:"../questionDetail/questionDetail?id=".concat(t)})}},filters:{time:function(t){return(0,i.parseTime)(t,"{y}/{m}/{d}")}},onReachBottom:function(){this.total>this.list.length&&this.getList()},onLoad:function(t){var e=t.type;this.type=e,this.setNavigatorTitle(e),this.getList()}};e.default=p},"5ac2":function(t,e,n){"use strict";n.r(e);var r=n("52fa"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"5ffd":function(t,e,n){"use strict";n.r(e);var r=n("91e7"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"600b":function(t,e,n){"use strict";n.r(e);var r=n("465c"),a=n("9fe4");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"8fb2f712",null,!1,r["a"],s);e["default"]=c.exports},6012:function(t,e,n){"use strict";n.r(e);var r=n("01a5"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},6761:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=o,e.login=c,e.getUserinfo=u,e.changeUserinfo=l;var r=i(n("c3a7")),a=n("f9a9");function i(t){return t&&t.__esModule?t:{default:t}}var s=r.default.host+":"+r.default.apiPort;function o(t,e){return new Promise((function(n,r){uni.request({url:s+"/api/register",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{name:t,passwd:e},success:function(t){n(t)},fail:function(t){r(t)}})}))}function c(t,e){return new Promise((function(n,r){uni.request({url:s+"/api/login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{name:t,passwd:e},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function u(){var t=(0,a.getToken)();return new Promise((function(e,n){uni.request({url:s+"/api/userInfo",method:"GET",header:{token:t},success:function(t){e(t.data)},fail:function(t){n(t)}})}))}function l(t,e){var n=(0,a.getToken)();return new Promise((function(r,a){uni.request({url:s+"/api/userInfo",header:{"content-type":"application/x-www-form-urlencoded",token:n},method:"POST",data:{avatar:t,introduction:e},success:function(t){r(t.data)},fail:function(t){a(t)}})}))}},"68e0":function(t,e,n){"use strict";n.r(e);var r=n("942d"),a=n("9568");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"54c4832a",null,!1,r["a"],s);e["default"]=c.exports},"6aba":function(t,e,n){"use strict";n.r(e);var r=n("4c89"),a=n("fef3");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"57f12c84",null,!1,r["a"],s);e["default"]=c.exports},7465:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getQuestionList=o,e.getQuestions=c,e.getRecords=u,e.submitScore=l;var r=i(n("c3a7")),a=n("f9a9");function i(t){return t&&t.__esModule?t:{default:t}}var s=r.default.host+":"+r.default.apiPort;function o(t,e){var n=(0,a.getToken)();return new Promise((function(r,a){uni.request({url:s+"/api/testPapers",method:"GET",header:{token:n},data:{type:t,page:e},success:function(t){r(t.data)},fail:function(t){a(t)}})}))}function c(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/testPaper",method:"GET",header:{token:e},data:t,success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function u(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/testRecords",method:"GET",data:{page:t},header:{token:e},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function l(t,e){var n=(0,a.getToken)();return new Promise((function(r,a){uni.request({url:s+"/api/testRecord",method:"POST",header:{token:n,"content-type":"application/x-www-form-urlencoded"},data:{test_paper_id:t,score:e},success:function(t){r(t.data)},fail:function(t){a(t)}})}))}},7502:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","add-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","username-input"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-icon uni-icon-search"),attrs:{_i:2}}),n("input",{staticClass:t._$s(3,"sc","input"),attrs:{value:t._$s(3,"a-value",t.username),_i:3},on:{input:t.clearInput,confirm:t.search}}),t._$s(4,"i",t.showClearIcon)?n("view",{staticClass:t._$s(4,"sc","uni-icon uni-icon-clear"),attrs:{_i:4},on:{click:t.clear}}):t._e()]),t._$s(5,"i",t.searchResult)?n("view",{staticClass:t._$s(5,"sc","result"),attrs:{_i:5}},[n("text",{staticClass:t._$s(6,"sc","result-title"),attrs:{_i:6}}),n("view",{staticClass:t._$s(7,"sc","result-info"),attrs:{_i:7}},[n("image",{staticClass:t._$s(8,"sc","avatar"),attrs:{src:t._$s(8,"a-src",t.searchResult.avatar),_i:8}}),n("view",{staticClass:t._$s(9,"sc","info-body"),attrs:{_i:9}},[n("text",{staticClass:t._$s(10,"sc","username"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.searchResult.username)))]),n("text",{staticClass:t._$s(11,"sc","introduction"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.searchResult.introduction)))])]),n("button",{staticClass:t._$s(12,"sc","add-btn"),attrs:{_i:12},on:{click:function(e){return t.add(t.searchResult.id)}}})])]):t._e(),t._$s(13,"i",!t.searchResult&&t.hasSearch)?n("view",{staticClass:t._$s(13,"sc","tip"),attrs:{_i:13}}):t._e()])},i=[]},"75c9":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","answer-records-container"),attrs:{_i:0}},[t._$s(1,"i",t.list.length>0)?n("view",{staticClass:t._$s(1,"sc","record-list"),attrs:{_i:1}},[t._l(t._$s(2,"f",{forItems:t.list}),(function(e,r,a,i){return n("view",{key:t._$s(2,"f",{forIndex:a,key:r}),staticClass:t._$s("2-"+i,"sc","record-card"),attrs:{_i:"2-"+i}},[n("view",{staticClass:t._$s("3-"+i,"sc","left"),attrs:{_i:"3-"+i}},[n("text",{staticClass:t._$s("4-"+i,"sc","title"),attrs:{_i:"4-"+i}},[t._v(t._$s("4-"+i,"t0-0",t._s(e.title)))]),n("text",{staticClass:t._$s("5-"+i,"sc","time"),attrs:{_i:"5-"+i}},[t._v(t._$s("5-"+i,"t0-0",t._s(e.time)))])]),n("view",{staticClass:t._$s("6-"+i,"sc","right"),attrs:{_i:"6-"+i}},[n("text",{staticClass:t._$s("7-"+i,"sc","type"),attrs:{_i:"7-"+i}},[t._v(t._$s("7-"+i,"t0-0",t._s(t._f("type")(e.type))))]),n("text",{staticClass:t._$s("8-"+i,"sc","score"),attrs:{_i:"8-"+i}},[t._v(t._$s("8-"+i,"t0-0",t._s(e.score)))])])])})),n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.total>t.list.length),expression:"_$s(9,'v-show',total > list.length)"}],staticClass:t._$s(9,"sc","load-more-text"),attrs:{_i:9},on:{click:t.loadmore}})],2):n("view",{staticClass:t._$s(10,"sc","trips"),attrs:{_i:10}})])},i=[]},7694:function(t,e,n){"use strict";n.r(e);var r=n("00dd"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"76e6":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","questions-container"),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.list}),(function(e,r,a,i){return n("view",{key:t._$s(1,"f",{forIndex:a,key:r}),staticClass:t._$s("1-"+i,"sc","classify"),class:t._$s("1-"+i,"c",e.class),attrs:{_i:"1-"+i},on:{click:function(n){return t.navigato(e.type)}}},[n("text",{staticClass:t._$s("2-"+i,"sc","title"),attrs:{_i:"2-"+i}},[t._v(t._$s("2-"+i,"t0-0",t._s(e.title)))]),n("text",{staticClass:t._$s("3-"+i,"sc","sub"),attrs:{_i:"3-"+i}},[t._v(t._$s("3-"+i,"t0-0",t._s(e.subTitle)))])])})),0)},i=[]},"776c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStatus=o,e.showError=c,e.checkNetwork=u,e.parseTime=l;var r=n("f9a9"),a="none",i="poor",s="normal";function o(t){var e=(0,r.getToken)();if(e)return!0;uni.showToast({position:"bottom",title:"\u8fd8\u672a\u767b\u5f55\uff0c\u8bf7\u5148\u8fdb\u884c\u767b\u5f55",icon:"none"}),setTimeout((function(){uni.switchTab({url:t})}),1e3)}function c(){uni.showToast({icon:"none",title:"\u9519\u8bef\uff0c\u8bf7\u8fdb\u884c\u68c0\u67e5"})}function u(){var e;return uni.getNetworkType({success:function(t){var n=t.networkType;"none"===n?(uni.showToast({icon:"none",title:"\u5f53\u524d\u65e0\u7f51\u7edc\uff0c\u8bf7\u8fdb\u884c\u68c0\u67e5"}),e=a):"2g"===n||"3g"===n?(uni.showToast({icon:"none",title:"\u5f53\u524d\u7f51\u7edc\u72b6\u6001\u4e0d\u4f73"}),e=i):e=s},fail:function(){e=a,t("log","err"," at utils/index.js:60")}}),e}function l(t,e){if(0===arguments.length)return null;var n,r=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===typeof t?n=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),n=new Date(t));var a={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},i=r.replace(/{([ymdhisa])+}/g,(function(t,e){var n=a[e];return"a"===e?["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][n]:n.toString().padStart(2,"0")}));return i}}).call(this,n("0de9")["default"])},"7ba8":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","favorite-container"),attrs:{_i:0}},[t._$s(1,"i",t.favoriteArticles.length)?n("scroll-view",{staticClass:t._$s(1,"sc","favorite-articles"),attrs:{_i:1}},[t._l(t._$s(2,"f",{forItems:t.favoriteArticles}),(function(e,r,a,i){return n("view",{key:t._$s(2,"f",{forIndex:a,key:e.id}),staticClass:t._$s("2-"+i,"sc","favorite-article"),attrs:{_i:"2-"+i},on:{longpress:function(n){return t.remove(e.id)},click:function(n){return t.navigato(e.id)}}},[n("text",{staticClass:t._$s("3-"+i,"sc","title"),attrs:{_i:"3-"+i}},[t._v(t._$s("3-"+i,"t0-0",t._s(e.title)))]),n("text")])})),n("view",{staticClass:t._$s(5,"sc","loading"),attrs:{_i:5},on:{click:t.loadMore}},[t._v(t._$s(5,"t0-0",t._s(t.loadingText)))])],2):n("view",{staticClass:t._$s(6,"sc","trips"),attrs:{_i:6}})])},i=[]},"7bc2":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","login-container"),attrs:{_i:0}},[n("h1"),n("view",{staticClass:t._$s(2,"sc","form"),attrs:{_i:2}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:t._$s(3,"sc","uni-input"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.username)},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:t._$s(4,"sc","uni-input"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.password)},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{attrs:{_i:5},on:{click:t.Login}})]),n("text",{staticClass:t._$s(6,"sc","tips"),attrs:{_i:6},on:{click:t.navigato}})])},i=[]},"7c56":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"refresh",props:{color:{type:String,default:"#04C4C4"},playState:{type:String,default:"paused"}}};e.default=r},"7d04":function(t,e,n){"use strict";n.r(e);var r=n("7bc2"),a=n("b015");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"ad625a38",null,!1,r["a"],s);e["default"]=c.exports},8496:function(t,e){t.exports="/static/imgs/score_bg.jpg"},"87ed":function(t,e,n){"use strict";n.r(e);var r=n("5ac2");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var i,s,o,c,u=n("f0c5"),l=Object(u["a"])(r["default"],i,s,!1,null,null,null,!1,o,c);e["default"]=l.exports},8842:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),a=n("7465"),i=n("776c");function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,c,"next",t)}function c(t){o(i,r,a,s,c,"throw",t)}s(void 0)}))}}function u(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function l(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d={name:"question-detail",data:function(){return{id:0,answers:[],current:0,questions:[],selected:[],optionCurrent:[],score:0,isSubmited:!1,disabled:!0}},methods:{navigato:function(){uni.navigateBack({delta:1})},swiperChange:function(t){var e=t.target.current;this.current=e},radioChange:function(t){for(var e=this.questions[this.current].options,n=0;n<e.length;n++)if(e[n].value===t.target.value){this.optionCurrent[this.current]=n,this.selected.splice(this.current,1,t.target.value);break}},count:function(){for(var t=0,e=this.answers.length,n=0;n<e;n++)this.answers[n]===this.selected[n]&&(t+=1);this.score=Math.floor(100/e*t)},submit:function(){var t,e=this,n=u(this.selected);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!r)return void uni.showToast({icon:"none",title:"\u9009\u9879\u4e0d\u5b8c\u6574\uff01\u8bf7\u8fdb\u884c\u68c0\u67e5"})}}catch(i){n.e(i)}finally{n.f()}this.count(),(0,a.submitScore)(this.id,this.score).then((function(t){200===t.code&&(e.isSubmited=!0,uni.vibrateShort())}))},init:function(){var t=[];this.questions.forEach((function(e){t.push(e.answer);var n=[];for(var r in e.options)n.push({name:e.options[r],value:r});e.options=n})),this.answers=t;var e=this.questions.length;this.selected=new Array(e),this.optionCurrent=new Array(e)},getData:function(t,e){var n=this;return c(r.default.mark((function s(){var o,c;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t?{id:t}:{type:e},r.next=3,(0,a.getQuestions)(o);case 3:c=r.sent,200===c.code?(n.id=c.data.id,n.questions=c.data.questions,n.init()):(0,i.showError)();case 5:case"end":return r.stop()}}),s)})))()}},watch:{selected:{handler:function(t){t.includes(void 0)?this.disabled=!0:this.disabled=!1},deep:!0}},onLoad:function(t){var e=t.id,n=t.type;this.getData(e,n)}};e.default=d},"8b95":function(t,e,n){"use strict";n.r(e);var r=n("cf8f"),a=n("a8b6");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"3e8ba45e",null,!1,r["a"],s);e["default"]=c.exports},"8bbf":function(t,e){t.exports=Vue},"8fcb":function(t,e,n){"use strict";n.r(e);var r=n("76e6"),a=n("e6b3");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"7200a84b",null,!1,r["a"],s);e["default"]=c.exports},"91e7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("299b"));function a(t){return t&&t.__esModule?t:{default:t}}var i={mixins:[r.default],props:{show:{type:String,default:"none"},disabled:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},threshold:{type:Number,default:20},leftOptions:{type:Array,default:function(){return[]}},rightOptions:{type:Array,default:function(){return[]}}},inject:["swipeaction"]};e.default=i},"921c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),a=n("6761"),i=n("f9a9");function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,c,"next",t)}function c(t){o(i,r,a,s,c,"throw",t)}s(void 0)}))}}var u={name:"login",data:function(){return{username:null,password:null}},methods:{navigato:function(){uni.redirectTo({url:"../register/register"})},Login:function(){var e=this;return c(r.default.mark((function n(){var s,o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.username&&e.password){n.next=3;break}return uni.showToast({title:"\u8d26\u53f7\u6216\u5bc6\u7801\u4e3a\u7a7a\uff0c\u8bf7\u68c0\u67e5",icon:"none"}),n.abrupt("return");case 3:return n.prev=3,n.next=6,(0,a.login)(e.username,e.password);case 6:s=n.sent,o=s.data.token.token,c=s.data.user,(0,i.setToken)(o),(0,i.setUserInfo)(c),e.username=null,e.password=null,uni.navigateBack(),n.next=20;break;case 16:n.prev=16,n.t0=n["catch"](3),t("log",n.t0," at pages/user/login/login.vue:50"),uni.showToast({title:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5!",icon:"none"});case 20:case"end":return n.stop()}}),n,null,[[3,16]])})))()}}};e.default=u}).call(this,n("0de9")["default"])},"937a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("a34a")),a=n("6761");function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){s(i,r,a,o,c,"next",t)}function c(t){s(i,r,a,o,c,"throw",t)}o(void 0)}))}}var c={name:"register",data:function(){return{username:null,password:null,password_confirm:null}},methods:{check:function(){return this.password===this.password_confirm||(uni.showToast({title:"\u4e24\u6b21\u5bc6\u7801\u4e0d\u540c\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",icon:"none"}),!1)},signIn:function(){var t=this;return o(r.default.mark((function e(){var n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.check()){e.next=11;break}return e.prev=1,e.next=4,(0,a.register)(t.username,t.password);case 4:n=e.sent,n&&(uni.showToast({title:"\u6ce8\u518c\u6210\u529f!",icon:"none"}),t.navigato()),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),uni.showToast({title:"\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5!",icon:"none"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},navigato:function(){uni.redirectTo({url:"../login/login"})}}};e.default=c},"942d":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","chat-container"),attrs:{_i:0}},[n("scroll-view",{staticClass:t._$s(1,"sc","chat-view"),attrs:{id:"chatView","scroll-top":t._$s(1,"a-scroll-top",t.scrollTop),_i:1}},[t._l(t._$s(2,"f",{forItems:t.chattingRecord}),(function(e,r,a,i){return n("view",{key:t._$s(2,"f",{forIndex:a,key:"2-"+i}),staticClass:t._$s("2-"+i,"sc","message"),class:t._$s("2-"+i,"c",e.source),attrs:{id:"message",_i:"2-"+i}},[n("image",{staticClass:t._$s("3-"+i,"sc","avatar"),attrs:{src:t._$s("3-"+i,"a-src","friend"===e.source?t.friendInfo.avatar:t.myInfo.avatar),_i:"3-"+i}}),n("text",{staticClass:t._$s("4-"+i,"sc","content"),attrs:{_i:"4-"+i}},[t._v(t._$s("4-"+i,"t0-0",t._s(e.msg)))])])})),n("view",{attrs:{id:"bottom",_i:5}})],2),n("view",{staticClass:t._$s(6,"sc","input-warp"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:t._$s(7,"sc","input"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.message)},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),n("button",{staticClass:t._$s(8,"sc","send-btn"),attrs:{_i:8},on:{click:t.send}})])])},i=[]},9568:function(t,e,n){"use strict";n.r(e);var r=n("f5f9"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"958d":function(t,e,n){"use strict";n("29dc");var r=i(n("8bbf")),a=i(n("87ed"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}r.default.config.productionTip=!1,a.default.mpType="app";var u=new r.default(o({},a.default));u.$mount()},9630:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","question-list-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","questions-list"),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.list}),(function(e,r,a,i){return n("view",{key:t._$s(2,"f",{forIndex:a,key:"2-"+i}),staticClass:t._$s("2-"+i,"sc","questions-card"),attrs:{_i:"2-"+i}},[n("text",{staticClass:t._$s("3-"+i,"sc","title"),attrs:{_i:"3-"+i}},[t._v(t._$s("3-"+i,"t0-0",t._s(e.title)))]),n("text",{staticClass:t._$s("4-"+i,"sc","time"),attrs:{_i:"4-"+i}},[t._v(t._$s("4-"+i,"t0-0",t._s(t._f("time")(e.create_time))))]),n("button",{staticClass:t._$s("5-"+i,"sc","start-btn"),attrs:{_i:"5-"+i},on:{click:function(n){return t.navigato(e.id)}}})])})),0)])},i=[]},"96cf":function(t,e){!function(e){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=b;var f="suspendedStart",d="suspendedYield",v="executing",h="completed",_={},p={};p[s]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(A([])));g&&g!==r&&a.call(g,s)&&(p=g);var w=x.prototype=$.prototype=Object.create(p);C.prototype=w.constructor=x,x.constructor=C,x[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},l.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[o]=function(){return this},l.AsyncIterator=S,l.async=function(t,e,n,r){var a=new S(b(t,e,n,r));return l.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),w[c]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=A,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,a){return o.type="throw",o.arg=t,e.next=r,a&&(e.method="next",e.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=a.call(s,"catchLoc"),u=a.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),_}}}function b(t,e,n,r){var a=e&&e.prototype instanceof $?e:$,i=Object.create(a.prototype),s=new j(r||[]);return i._invoke=T(t,n,s),i}function y(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function $(){}function C(){}function x(){}function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t){function e(n,r,i,s){var o=y(t[n],t,r);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"===typeof u&&a.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,i,s)}),(function(t){e("throw",t,i,s)})):Promise.resolve(u).then((function(t){c.value=t,i(c)}),(function(t){return e("throw",t,i,s)}))}s(o.arg)}var n;function r(t,r){function a(){return new Promise((function(n,a){e(t,r,n,a)}))}return n=n?n.then(a,a):a()}this._invoke=r}function T(t,e,n){var r=f;return function(a,i){if(r===v)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return E()}n.method=a,n.arg=i;while(1){var s=n.delegate;if(s){var o=P(s,n);if(o){if(o===_)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var c=y(t,e,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===_)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function P(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var a=y(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,_;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,_):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var e=t[s];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){while(++r<t.length)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"977e":function(t,e,n){"use strict";n.r(e);var r=n("3971"),a=n("ba7b");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"7900186a",null,!1,r["a"],s);e["default"]=c.exports},"9af5":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","setting-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","personal-info"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","header"),attrs:{_i:2}},[n("text"),n("text",{staticClass:t._$s(4,"sc","change-btn"),attrs:{_i:4},on:{click:t.change}})]),n("view",{staticClass:t._$s(5,"sc","avatar item"),attrs:{_i:5}},[n("text",{staticClass:t._$s(6,"sc","title"),attrs:{_i:6}}),n("image",{staticClass:t._$s(7,"sc","img"),attrs:{src:t._$s(7,"a-src",t.avatar),_i:7},on:{click:t.preview}})]),n("view",{staticClass:t._$s(8,"sc","username item"),attrs:{_i:8}},[n("text",{staticClass:t._$s(9,"sc","title"),attrs:{_i:9}}),n("text",{staticClass:t._$s(10,"sc","content"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.username)))])]),n("view",{staticClass:t._$s(11,"sc","introduction item"),attrs:{_i:11}},[n("text",{staticClass:t._$s(12,"sc","title"),attrs:{_i:12}}),n("text",{staticClass:t._$s(13,"sc","content"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.introduction)))])])]),n("view",{staticClass:t._$s(14,"sc","about"),attrs:{_i:14}},[n("view",{staticClass:t._$s(15,"sc","header"),attrs:{_i:15}},[n("text")]),n("view",{staticClass:t._$s(17,"sc","us item"),attrs:{_i:17},on:{click:t.navigato}},[n("text",{staticClass:t._$s(18,"sc","title"),attrs:{_i:18}}),n("text",{staticClass:t._$s(19,"sc","nav-btn"),attrs:{_i:19}})]),n("view",{staticClass:t._$s(20,"sc","version item"),attrs:{_i:20}},[n("text",{staticClass:t._$s(21,"sc","title"),attrs:{_i:21}})])]),n("button",{staticClass:t._$s(22,"sc","logout-btn"),attrs:{_i:22},on:{click:t.logOut}})])},i=[]},"9c78":function(t,e,n){"use strict";n.r(e);var r=n("11ba"),a=n("d303");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"505833d4",null,!1,r["a"],s);e["default"]=c.exports},"9fe4":function(t,e,n){"use strict";n.r(e);var r=n("e41f"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},a257:function(t,e,n){"use strict";n.r(e);var r=n("ae7a"),a=n("e970");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);e["default"]=c.exports},a34a:function(t,e,n){t.exports=n("bbdd")},a6a4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFriends=o,e.searchFriend=c,e.addFriend=u,e.deleteFriend=l;var r=i(n("c3a7")),a=n("f9a9");function i(t){return t&&t.__esModule?t:{default:t}}var s=r.default.host+":"+r.default.apiPort;function o(){var t=(0,a.getToken)();return new Promise((function(e,n){uni.request({url:s+"/api/friends",method:"GET",header:{token:t},success:function(t){e(t.data)},fail:function(t){n(t)}})}))}function c(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/searchUser",method:"POST",header:{token:e,"content-type":"application/x-www-form-urlencoded"},data:{name:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function u(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/friend",method:"POST",header:{token:e,"content-type":"application/x-www-form-urlencoded"},data:{friend_id:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function l(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/deleteFriend",method:"POST",header:{token:e,"content-type":"application/x-www-form-urlencoded"},data:{friend_id:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}},a7a8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("f9a9"),a={name:"setting",data:function(){return{avatar:null,username:null,introduction:null}},methods:{getInfo:function(){var t=(0,r.getUserInfo)(),e=t.name,n=t.avatar,a=t.introduction;this.avatar=n,this.username=e,this.introduction=a},change:function(){uni.navigateTo({url:"../user/changeUserInfo/changeUserInfo"})},navigato:function(){uni.navigateTo({url:"../about/about",animationType:"zoom-fade-out"})},preview:function(){uni.previewImage({urls:this.avatar.split(",")})},logOut:function(){(0,r.removeToken)(),(0,r.removeUserInfo)(),uni.switchTab({url:"../tabBar/me/me"})}},onLoad:function(){this.getInfo()},onShow:function(){this.getInfo()}};e.default=a},a8b6:function(t,e,n){"use strict";n.r(e);var r=n("7c56"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},ae7a:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[t._t("default",null,{_i:1})],2)},i=[]},b015:function(t,e,n){"use strict";n.r(e);var r=n("921c"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},b3ab:function(t,e,n){"use strict";n.r(e);var r=n("2b1a"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},ba7b:function(t,e,n){"use strict";n.r(e);var r=n("937a"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},bbdd:function(t,e,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n("96cf"),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(s){r.regeneratorRuntime=void 0}},bd7f:function(t,e,n){"use strict";n.r(e);var r=n("75c9"),a=n("d5f2");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"759d888a",null,!1,r["a"],s);e["default"]=c.exports},c280:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={Refresh:n("8b95").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","home-container"),attrs:{_i:0}},[n("scroll-view",{staticClass:t._$s(1,"sc","top-scroll"),attrs:{"scroll-left":t._$s(1,"a-scroll-left",t.scrollLeft),_i:1}},t._l(t._$s(2,"f",{forItems:t.tabBars}),(function(e,r,a,i){return n("view",{key:t._$s(2,"f",{forIndex:a,key:e.id}),staticClass:t._$s("2-"+i,"sc","tab-item"),attrs:{id:t._$s("2-"+i,"a-id",e.id),"data-current":t._$s("2-"+i,"a-data-current",r),_i:"2-"+i},on:{click:function(e){return t.tabChange(r)}}},[n("text",{staticClass:t._$s("3-"+i,"sc","tab-item-title"),class:t._$s("3-"+i,"c",t.tabIndex==r?"tab-item-title-active":""),attrs:{_i:"3-"+i}},[t._v(t._$s("3-"+i,"t0-0",t._s(e.name)))])])})),0),n("swiper",{staticClass:t._$s(4,"sc","swiper-box"),attrs:{current:t._$s(4,"a-current",t.tabIndex),_i:4},on:{change:t.swiperChange}},t._l(t._$s(5,"f",{forItems:t.tabBars}),(function(e,r,a,i){return n("swiper-item",{key:t._$s(5,"f",{forIndex:a,key:r})},[n("Refresh",{attrs:{color:t.color,playState:t.playState,_i:"6-"+i}}),n("view",{staticClass:t._$s("7-"+i,"sc","article-list-warp"),style:t._$s("7-"+i,"s",[{transform:t.coverTransform,transition:t.coverTransition}]),attrs:{_i:"7-"+i},on:{touchstart:t.coverTouchstart,touchmove:t.coverTouchmove,touchend:t.coverTouchend}},[n("scroll-view",{staticClass:t._$s("8-"+i,"sc","article-list"),style:t._$s("8-"+i,"s",t.getHeight),attrs:{"scroll-top":t._$s("8-"+i,"a-scroll-top",t.scrollTop),_i:"8-"+i},on:{scrolltolower:function(e){return t.loadMore(r)}}},[t._l(t._$s("9-"+i,"f",{forItems:t.articles[r].data}),(function(e,r,a,s){return n("article-card",{key:t._$s("9-"+i,"f",{forIndex:a,key:r}),staticClass:t._$s("9-"+i+"-"+s,"sc","article-item"),attrs:{id:t._$s("9-"+i+"-"+s,"a-id",e.id),title:e.title,time:e.createTime,cover:e.cover?e.cover:"",commentCount:e.commentCount,_i:"9-"+i+"-"+s}})})),n("view",{staticClass:t._$s("10-"+i,"sc","loading"),attrs:{_i:"10-"+i}},[t._v(t._$s("10-"+i,"t0-0",t._s(t.articles[r].loadingText)))])],2)])],1)})),0)])},i=[]},c384:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCategories=o,e.getArticles=c,e.getArtcileDetail=u,e.getFavoriteArtciles=l,e.addFavorite=f,e.deleteFavorite=d,e.getComments=v,e.submitComment=h;var r=i(n("c3a7")),a=n("f9a9");function i(t){return t&&t.__esModule?t:{default:t}}var s=r.default.host+":"+r.default.apiPort;function o(){return new Promise((function(t,e){uni.request({url:s+"/api/categories",method:"GET",success:function(e){t(e.data)},fail:function(t){e(t)}})}))}function c(t,e){return new Promise((function(n,r){uni.request({url:s+"/api/articles",method:"GET",data:{page:t,category_id:e},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function u(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/article",method:"GET",header:{token:e},data:{id:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function l(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/userFavorites",method:"GET",header:{token:e},data:{page:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function f(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/userFavorites",method:"POST",header:{token:e,"content-type":"application/x-www-form-urlencoded"},data:{article_id:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function d(t){var e=(0,a.getToken)();return new Promise((function(n,r){uni.request({url:s+"/api/deleteFavorite",method:"POST",header:{token:e,"content-type":"application/x-www-form-urlencoded"},data:{article_id:t},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,r){uni.request({url:s+"/api/comments",method:"GET",data:{article_id:t,page:e},success:function(t){n(t.data)},fail:function(t){r(t)}})}))}function h(t,e){var n=(0,a.getToken)();return new Promise((function(r,a){uni.request({url:s+"/api/comment",method:"POST",header:{token:n,"content-type":"application/x-www-form-urlencoded"},data:{article_id:t,content:e},success:function(t){r(t.data)},fail:function(t){a(t)}})}))}},c3a7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={host:"http://120.79.191.248",apiPort:80,wsURL:"ws://47.103.221.64:3000"};e.default=r},c3e3:function(t,e,n){"use strict";n.r(e);var r=n("9af5"),a=n("3b3d");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"7fd3137e",null,!1,r["a"],s);e["default"]=c.exports},c587:function(t,e,n){"use strict";n.r(e);var r=n("e9d3"),a=n("45e3");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"06702cee",null,!1,r["a"],s);e["default"]=c.exports},cf8f:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","content"),style:t._$s(0,"s",{"--color":t.color,"--playState":t.playState}),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","refresh swapping-squares-spinner"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","square"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","square"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","square"),attrs:{_i:4}}),n("view",{staticClass:t._$s(5,"sc","square"),attrs:{_i:5}})])])},i=[]},d132:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-swipe"),attrs:{_i:0}},[n("view",{wxsProps:{"change:prop":"btn"},staticClass:t._$s(1,"sc","uni-swipe_box"),attrs:{"data-threshold":t._$s(1,"a-data-threshold",t.threshold),"data-disabled":t._$s(1,"a-data-disabled",t.disabled),prop:t._$s(1,"change:btn",t.btn),_i:1},on:{}},[n("view",{staticClass:t._$s(2,"sc","uni-swipe_button-group button-group--left"),attrs:{_i:2}},[t._t("left",t._l(t._$s(4,"f",{forItems:t.leftOptions}),(function(e,r,a,i){return n("view",{key:t._$s(4,"f",{forIndex:a,key:r}),staticClass:t._$s("4-"+i,"sc","uni-swipe_button button-hock"),style:t._$s("4-"+i,"s",{backgroundColor:e.style&&e.style.backgroundColor?e.style.backgroundColor:"#C7C6CD",fontSize:e.style&&e.style.fontSize?e.style.fontSize:"16px"}),attrs:{"data-button":t._$s("4-"+i,"a-data-button",t.btn),_i:"4-"+i},on:{touchstart:t.appTouchStart,touchend:function(n){return t.appTouchEnd(n,r,e,"left")}}},[n("text",{staticClass:t._$s("5-"+i,"sc","uni-swipe_button-text"),style:t._$s("5-"+i,"s",{color:e.style&&e.style.color?e.style.color:"#FFFFFF"}),attrs:{_i:"5-"+i}},[t._v(t._$s("5-"+i,"t0-0",t._s(e.text)))])])})),{_i:3})],2),t._t("default",null,{_i:6}),n("view",{staticClass:t._$s(7,"sc","uni-swipe_button-group button-group--right"),attrs:{_i:7}},[t._t("right",t._l(t._$s(9,"f",{forItems:t.rightOptions}),(function(e,r,a,i){return n("view",{key:t._$s(9,"f",{forIndex:a,key:r}),staticClass:t._$s("9-"+i,"sc","uni-swipe_button button-hock"),style:t._$s("9-"+i,"s",{backgroundColor:e.style&&e.style.backgroundColor?e.style.backgroundColor:"#C7C6CD",fontSize:e.style&&e.style.fontSize?e.style.fontSize:"16px"}),attrs:{"data-button":t._$s("9-"+i,"a-data-button",t.btn),_i:"9-"+i},on:{touchstart:t.appTouchStart,touchend:function(n){return t.appTouchEnd(n,r,e,"right")}}},[n("text",{staticClass:t._$s("10-"+i,"sc","uni-swipe_button-text"),style:t._$s("10-"+i,"s",{color:e.style&&e.style.color?e.style.color:"#FFFFFF"}),attrs:{_i:"10-"+i}},[t._v(t._$s("10-"+i,"t0-0",t._s(e.text)))])])})),{_i:8})],2)],2)])},i=[]},d303:function(t,e,n){"use strict";n.r(e);var r=n("1151"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},d5f2:function(t,e,n){"use strict";n.r(e);var r=n("3add"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},d5fc:function(t,e,n){"use strict";n.r(e);var r=n("c280"),a=n("e4ef");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"2fca70c0",null,!1,r["a"],s);e["default"]=c.exports},d98d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{}},provide:function(){return{swipeaction:this}},created:function(){this.children=[]},methods:{closeOther:function(t){this.openItem&&this.openItem!==t&&(this.openItem.button.show="none"),this.openItem=t}}};e.default=r},def0:function(t,e,n){"use strict";n.r(e);var r=n("136f"),a=n("6012");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"08bc076b",null,!1,r["a"],s);e["default"]=c.exports},e310:function(t,e,n){"use strict";n.r(e);var r=n("5502"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},e40a:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","about-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","terminal"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","header"),attrs:{_i:2}},[n("text",{staticClass:t._$s(3,"sc","circle red"),attrs:{_i:3}}),n("text",{staticClass:t._$s(4,"sc","circle yellow"),attrs:{_i:4}}),n("text",{staticClass:t._$s(5,"sc","circle green"),attrs:{_i:5}})]),n("view",{staticClass:t._$s(6,"sc","content"),attrs:{_i:6}},[n("view",{staticClass:t._$s(7,"sc","block"),attrs:{_i:7}},[n("text"),n("text",{staticClass:t._$s(9,"sc","word"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.command)))])]),n("view",{staticClass:t._$s(10,"sc","block result"),attrs:{_i:10}},t._l(t._$s(11,"f",{forItems:t.info}),(function(e,r,a,i){return n("text",{key:t._$s(11,"f",{forIndex:a,key:"11-"+i})},[t._v(t._$s("11-"+i,"t0-0",t._s(e)))])})),0),n("view",{staticClass:t._$s(12,"sc","block"),attrs:{_i:12}},[n("text"),n("text",{staticClass:t._$s(14,"sc","mark"),attrs:{_i:14}})])])])])},i=[]},e41f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("a34a")),a=n("6761"),i=n("5653"),s=n("f9a9");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){c(i,r,a,s,o,"next",t)}function o(t){c(i,r,a,s,o,"throw",t)}s(void 0)}))}}var l={name:"change-user",data:function(){return{oldAvatar:"",newAvatar:"",introduction:" "}},methods:{chooseImg:function(){var t=this;uni.chooseImage({count:1,success:function(e){t.newAvatar=e.tempFilePaths[0]}})},previewImg:function(){uni.previewImage({urls:this.newAvatar.split(",")})},close:function(){this.newAvatar=""},submit:function(){var t=this;return u(r.default.mark((function e(){var n,o,c,u;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(uni.showLoading({title:"\u6b63\u5728\u4fee\u6539..."}),n=t.oldAvatar,t.newAvatar===t.oldAvatar){e.next=7;break}return e.next=5,(0,i.upload)("img",t.newAvatar);case 5:o=e.sent,n=JSON.parse(o).data.avatarUrl;case 7:return e.next=9,(0,a.changeUserinfo)(n,t.introduction);case 9:c=e.sent,uni.hideLoading(),200===c.code&&(u=c.data,(0,s.setUserInfo)(u),uni.navigateBack());case 12:case"end":return e.stop()}}),e)})))()},getInfo:function(){var t=(0,s.getUserInfo)(),e=t.avatar,n=t.introduction;this.oldAvatar=e,this.newAvatar=e,this.introduction=n}},onLoad:function(){this.getInfo()}};e.default=l},e4ef:function(t,e,n){"use strict";n.r(e);var r=n("0fcf"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},e6b3:function(t,e,n){"use strict";n.r(e);var r=n("2d25"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},e6bf:function(t,e,n){"use strict";n.r(e);var r=n("8842"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},e82e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("776c"),a="{m}/{d} {h}:{i}",i={name:"comment-item",props:{content:String,create_at:Number,username:String,userAvatar:String},computed:{time:function(){return(0,r.parseTime)(this.create_at,a)}}};e.default=i},e970:function(t,e,n){"use strict";n.r(e);var r=n("d98d"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},e9d3:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={uniSwipeAction:n("a257").default,uniSwipeActionItem:n("0783").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:t._$s(0,"sc","contacts-container"),attrs:{_i:0}},[n("uni-swipe-action",{attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.contacts}),(function(e,r,a,i){return n("uni-swipe-action-item",{key:t._$s(2,"f",{forIndex:a,key:e.id}),attrs:{"right-options":t.options,_i:"2-"+i},on:{click:function(n){return t.remove(e.id)}}},[n("view",{staticClass:t._$s("3-"+i,"sc","contact-info-warp"),attrs:{_i:"3-"+i},on:{click:function(n){return t.navigato(e)}}},[n("image",{staticClass:t._$s("4-"+i,"sc","avatar"),attrs:{src:t._$s("4-"+i,"a-src",e.avatar),_i:"4-"+i}}),n("view",{staticClass:t._$s("5-"+i,"sc","info-body"),attrs:{_i:"5-"+i}},[n("text",{staticClass:t._$s("6-"+i,"sc","username"),attrs:{_i:"6-"+i}},[t._v(t._$s("6-"+i,"t0-0",t._s(e.name)))]),n("text",{staticClass:t._$s("7-"+i,"sc","introduction"),attrs:{_i:"7-"+i}},[t._v(t._$s("7-"+i,"t0-0",t._s(e.introduction)))])])])])})),1),n("view",{staticClass:t._$s(8,"sc","hint"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.contacts.length)))])],1)},i=[]},eb77:function(t,e,n){"use strict";n.r(e);var r=n("ee20"),a=n("b3ab");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);e["default"]=c.exports},ee20:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:t._$s(0,"sc","me-container"),attrs:{_i:0}},[t._$s(1,"i",t.isLogin)?r("view",{staticClass:t._$s(1,"sc","personal-center-warp"),attrs:{_i:1}},[r("view",{staticClass:t._$s(2,"sc","user-info"),attrs:{_i:2}},[r("image",{staticClass:t._$s(3,"sc","avatar"),attrs:{src:t._$s(3,"a-src",t.userInfo.avatar),_i:3},on:{click:function(e){return t.navigato("../../user/changeUserInfo/changeUserInfo")}}}),r("text",{staticClass:t._$s(4,"sc","username"),attrs:{_i:4},on:{click:function(e){return t.navigato("../../user/changeUserInfo/changeUserInfo")}}},[t._v(t._$s(4,"t0-0",t._s(t.userInfo.username)))])]),r("view",{staticClass:t._$s(5,"sc","functions"),attrs:{_i:5}},[r("view",{staticClass:t._$s(6,"sc","item"),attrs:{_i:6},on:{click:function(e){return t.navigato("../../contacts/contacts")}}},[r("i",{staticClass:t._$s(7,"sc","iconfont icon-group"),attrs:{_i:7}}),r("text")]),r("view",{staticClass:t._$s(9,"sc","item"),attrs:{_i:9},on:{click:function(e){return t.navigato("../../articles/favoriteArticles/favoriteNews")}}},[r("i",{staticClass:t._$s(10,"sc","iconfont icon-book"),attrs:{_i:10}}),r("text")])]),r("view",{staticClass:t._$s(12,"sc","line"),attrs:{_i:12}}),r("view",{staticClass:t._$s(13,"sc","setting item"),attrs:{_i:13},on:{click:function(e){return t.navigato("../../setting/setting")}}},[r("i",{staticClass:t._$s(14,"sc","iconfont icon-setup"),attrs:{_i:14}}),r("text")])]):r("view",{staticClass:t._$s(16,"sc","login-warp"),attrs:{_i:16}},[r("view",{staticClass:t._$s(17,"sc","title"),attrs:{_i:17}},[r("h1"),r("p")]),r("image",{staticClass:t._$s(20,"sc","img"),attrs:{src:t._$s(20,"a-src",n("f769")),_i:20}}),r("view",{staticClass:t._$s(21,"sc","control-btns"),attrs:{_i:21}},[r("button",{staticClass:t._$s(22,"sc","login btn"),attrs:{_i:22},on:{click:function(e){return t.navigato("../../user/login/login","slide-in-top")}}}),r("button",{staticClass:t._$s(23,"sc","register btn"),attrs:{_i:23},on:{click:function(e){return t.navigato("../../user/register/register","slide-in-top")}}})])])])},i=[]},f0c5:function(t,e,n){"use strict";function r(t,e,n,r,a,i,s,o,c,u){var l,f="function"===typeof t?t.options:t;if(c){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var v in c)d.call(c,v)&&!d.call(f.components,v)&&(f.components[v]=c[v])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(f.mixins||(f.mixins=[])).push(u)),e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),i&&(f._scopeId="data-v-"+i),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},f._ssrRegister=l):a&&(l=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(f.functional){f._injectStyles=l;var h=f.render;f.render=function(t,e){return l.call(e),h(t,e)}}else{var _=f.beforeCreate;f.beforeCreate=_?[].concat(_,l):[l]}return{exports:t,options:f}}n.d(e,"a",(function(){return r}))},f0d6:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),a=n("c384"),i=n("776c");function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return f(t)||l(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){v(i,r,a,s,o,"next",t)}function o(t){v(i,r,a,s,o,"throw",t)}s(void 0)}))}}var _={name:"favorite",data:function(){return{page:1,totalPage:null,favoriteArticles:[]}},methods:{getList:function(t){var e=this;return h(r.default.mark((function n(){var i,s;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,a.getFavoriteArtciles)(e.page);case 2:if(i=n.sent,!i){n.next=12;break}if(e.page+=1,e.totalPage=i.data.pageTotal,s=i.data.lists,s=s.map((function(t){return{id:t.article_id,title:t.article.title}})),!t){n.next=11;break}return t(s),n.abrupt("return");case 11:e.favoriteArticles=[].concat(o(e.favoriteArticles),o(s));case 12:case"end":return n.stop()}}),n)})))()},navigato:function(t){uni.navigateTo({url:"../articleDetail/articleDetail?id=".concat(t)})},remove:function(e){var n=this;uni.showModal({content:"\u662f\u5426\u53d6\u6d88\u6536\u85cf\uff1f",success:function(r){r.confirm?(0,a.deleteFavorite)(e).then((function(t){var r=n.favoriteArticles.findIndex((function(t){return t.id===e}));-1!==r&&n.favoriteArticles.splice(r,1),uni.vibrateShort()})).catch((function(t){(0,i.showError)()})):r.cancel&&t("log","cancel"," at pages/articles/favoriteArticles/favoriteNews.vue:78")}})},loadMore:function(){this.totalPage>this.page&&this.getList()}},computed:{loadingText:function(){return this.totalPage>this.page?"\u52a0\u8f7d\u66f4\u591a":"\u6682\u65e0\u66f4\u591a\u6570\u636e"}},onPullDownRefresh:function(){var t=this;this.page=1,this.getList((function(e){t.favoriteArticles=e})),uni.stopPullDownRefresh()},onShow:function(){var t=this;this.page=1,this.getList((function(e){t.favoriteArticles=e}))}};e.default=_}).call(this,n("0de9")["default"])},f5f9:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("c3a7")),a=n("776c"),i=n("f9a9");function s(t){return t&&t.__esModule?t:{default:t}}var o=11,c=-1,u=3,l={name:"chat",data:function(){return{myInfo:{id:null,username:null,avatar:""},friendInfo:{id:null,name:null,avatar:null},scrollTop:0,oldbottom:0,message:"",chattingRecord:[],connected:!1,connecting:!1,hasLogin:!1}},methods:{init:function(t){var e=t.id,n=t.name,r=t.avatar;this.friendInfo={id:e,name:n,avatar:r};var a=(0,i.getUserInfo)();this.myInfo={id:a.id,username:a.name,avatar:a.avatar},this.setNavigatorTitle(n),this.open()},setNavigatorTitle:function(t){uni.setNavigationBarTitle({title:t})},formatMsg:function(t){var e={source_id:Number(this.myInfo.id),des_id:Number(this.friendInfo.id),message:String(t),type:o};return JSON.stringify(e)},send:function(){var t=this;if(this.hasLogin){if(""!==this.message){var e=this.formatMsg(this.message);this.sendMsg(e,(function(){t.chattingRecord.push({msg:t.message,source:"my"})})),this.message=""}}else(0,a.showError)()},scrollToBottom:function(){var t=this;uni.createSelectorQuery().select("#bottom").boundingClientRect((function(e){var n=e.bottom;Number(n)>Number(t.oldbottom)&&(t.scrollTop=n),t.oldbottom=n})).exec()},scrollInit:function(){var t=this;uni.createSelectorQuery().select("#bottom").boundingClientRect((function(e){t.oldbottom=e.bottom})).exec()},open:function(){var e=this;if(this.connected||this.connecting)return!1;this.connecting=!0,uni.connectSocket({url:r.default.wsURL,success:function(){t("log","connet success"," at pages/contacts/chat/chat.vue:132")},fail:function(){t("log","connet err"," at pages/contacts/chat/chat.vue:135")}}),uni.onSocketOpen((function(t){e.connecting=!1,e.connected=!0,e.login()})),uni.onSocketError((function(n){e.connecting=!1,e.connected=!1,t("log","connect error",n," at pages/contacts/chat/chat.vue:147")})),uni.onSocketMessage((function(n){var r=JSON.parse(n.data);switch(t("log",r," at pages/contacts/chat/chat.vue:152"),r.type){case c:e.hasLogin=!1,(0,a.showError)();break;case u:e.hasLogin=!0;break;default:e.receive(r);break}})),uni.onSocketClose((function(t){e.connected=!1,e.startRecive=!1}))},login:function(){var t=JSON.stringify({id:Number(this.myInfo.id),name:String(this.myInfo.username)});this.sendMsg(t)},receive:function(t){var e=t.source_id,n=t.des_id,r=t.message;e===Number(this.friendInfo.id)&&n===this.myInfo.id&&this.chattingRecord.push({msg:r,source:"friend"})},sendMsg:function(t,e){this.connected&&!this.connecting&&uni.sendSocketMessage({data:t,success:function(t){e&&e()},fail:function(t){(0,a.showError)()}})},close:function(){this.connected=!1,this.connecting=!1,uni.closeSocket()}},onLoad:function(t){this.init(t)},onUnload:function(){this.close()},mounted:function(){this.scrollInit()},updated:function(){this.chattingRecord.length>7&&this.scrollToBottom()}};e.default=l}).call(this,n("0de9")["default"])},f769:function(t,e){t.exports="/static/imgs/me_bg2.jpg"},f9a9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setToken=i,e.getToken=s,e.removeToken=o,e.setUserInfo=c,e.getUserInfo=u,e.removeUserInfo=l;var r="token",a="userinfo";function i(t){t&&uni.setStorageSync(r,t)}function s(){var t=uni.getStorageSync(r);return t}function o(){uni.removeStorageSync(r)}function c(t){t&&uni.setStorageSync(a,JSON.stringify(t))}function u(){var t=uni.getStorageSync(a);return JSON.parse(t)}function l(){uni.removeStorageSync(a)}},fa19:function(t,e,n){"use strict";n.r(e);var r=n("e40a"),a=n("7694");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"4d9b8c62",null,!1,r["a"],s);e["default"]=c.exports},fb88:function(t,e,n){"use strict";n.r(e);var r=n("7ba8"),a=n("1ecc");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);e["default"]=c.exports},fef3:function(t,e,n){"use strict";n.r(e);var r=n("e82e"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a}},[["958d","app-config"]]]);